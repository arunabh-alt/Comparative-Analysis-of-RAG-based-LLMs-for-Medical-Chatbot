import matplotlib.pyplot as plt

# Data for Flan-T5-Large
flan_t5_large_data = {
    'step': [
        200, 400, 600, 800, 1000, 1200, 1400, 1600, 1800, 2000, 2200, 2400, 2600, 2800, 3000, 3200,
        3400, 3600, 3800, 4000, 4200, 4400, 4600, 4800, 5000, 5200, 5400, 5600, 5800, 6000, 6200,
        6400, 6600, 6800, 7000, 7200, 7400, 7600, 7800, 8000, 8200, 8400, 8600, 8800, 9000, 9200,
        9400, 9600, 9800, 10000
    ],
    'loss': [
        1.7942, 1.8319, 1.7553, 1.7968, 1.7793, 1.7511, 1.7454, 1.7710, 1.7576, 1.7768, 1.7411,
        1.7268, 1.7491, 1.7046, 1.7240, 1.7558, 1.7354, 1.7076, 1.7401, 1.7180, 1.6153, 1.5915,
        1.5940, 1.5832, 1.5796, 1.6411, 1.5942, 1.6229, 1.6457, 1.6272, 1.6480, 1.6106, 1.6455,
        1.6752, 1.6450, 1.6171, 1.6542, 1.6328, 1.6407, 1.6460, 1.4450, 1.4644, 1.4879, 1.4687,
        1.5141, 1.5094, 1.5103, 1.5037, 1.5190, 1.5345
    ]
}

# Data for Llama-7B
llama_7b_data = {
    'step': [
        200, 400, 600, 800, 1000, 1200, 1400, 1600, 1800, 2000, 2200, 2400, 2600, 2800, 3000, 3200,
        3400, 3600, 3800, 4000, 4200, 4400, 4600, 4800, 5000, 5200, 5400, 5600, 5800, 6000, 6200,
        6400, 6600, 6800, 7000, 7200, 7400, 7600, 7800, 8000, 8200, 8400, 8600, 8800, 9000, 9200,
        9400, 9600, 9800, 10000
    ],
    'loss': [
        1.8890, 1.8400, 1.8657, 1.7881, 1.7680, 1.7524, 1.7354, 1.7391, 1.7194, 1.7336, 1.7152,
        1.7585, 1.7494, 1.7091, 1.7343, 1.7456, 1.7613, 1.7027, 1.7432, 1.7354, 1.6050, 1.6353,
        1.6234, 1.5864, 1.6234, 1.6211, 1.6240, 1.6513, 1.6380, 1.6092, 1.6286, 1.6257, 1.6361,
        1.6390, 1.6512, 1.6293, 1.6215, 1.6401, 1.6173, 1.6292, 1.4230, 1.4417, 1.4870, 1.4589,
        1.4723, 1.4952, 1.5140, 1.5131, 1.5267, 1.4500
    ]
}

# Data for Mistral
mistral_data = {
    'step': [
        200, 400, 600, 800, 1000, 1200, 1400, 1600, 1800, 2000, 2200, 2400, 2600, 2800, 3000, 3200,
        3400, 3600, 3800, 4000, 4200, 4400, 4600, 4800, 5000, 5200, 5400, 5600, 5800, 6000, 6200,
        6400, 6600, 6800, 7000, 7200, 7400, 7600, 7800, 8000, 8200, 8400, 8600, 8800, 9000, 9200,
        9400, 9600, 9800, 10000
    ],
    'loss': [
        1.9093, 1.8374, 1.8100, 1.8222, 1.8050, 1.7707, 1.7747, 1.7920, 1.7692, 1.7778, 1.7619,
        1.7679, 1.7696, 1.7195, 1.7391, 1.7683, 1.7545, 1.7299, 1.7577, 1.7277, 1.7430, 1.5684,
        1.6002, 1.5998, 1.5895, 1.5920, 1.6276, 1.6124, 1.6121, 1.6453, 1.6207, 1.6396, 1.6169,
        1.6403, 1.6492, 1.6523, 1.6326, 1.6462, 1.6280, 1.6496, 1.6533, 1.6320, 1.4284, 1.4318,
        1.4760, 1.4485, 1.4988, 1.5072, 1.5201, 1.5088
    ]
}

# Function to validate data lengths
def validate_data(data):
    if len(data['step']) != len(data['loss']):
        raise ValueError(f"x and y dimensions do not match. Steps: {len(data['step'])}, Losses: {len(data['loss'])}")

# Validate all data
validate_data(flan_t5_large_data)
validate_data(llama_7b_data)
validate_data(mistral_data)

# Plotting
plt.figure(figsize=(14, 8))

plt.plot(flan_t5_large_data['step'], flan_t5_large_data['loss'], label='Flan-T5-Large')
plt.plot(llama_7b_data['step'], llama_7b_data['loss'], label='Llama-7B')
plt.plot(mistral_data['step'], mistral_data['loss'], label='Mistral')

plt.xlabel('Steps')
plt.ylabel('Loss')
plt.title('Training Loss Over Steps for Different LLMs on MedMCQA Dataset')
plt.legend()
plt.grid(True)

plt.show()
